<view class="container">
  <navigation-bar title="æ’è¡Œæ¦œ" back="{{false}}" color="black" background="#FFF"></navigation-bar>
  <scroll-view class="content-scroll" scroll-y="true" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" bindrefresherrefresh="onRefresh">
    
    <!-- é¡¶éƒ¨æ’è¡Œæ¦œ -->
    <view class="top-ranking">
      <view class="top-three-container">
        <!-- ç¬¬ä¸€å -->
        <view class="champion" wx:if="{{rankingList.length > 0}}">
          <text class="crown-icon">ğŸ‘‘</text>
          <view class="avatar-container">
            <image class="champion-avatar" src="{{rankingList[0].avatarUrl || '/images/default-avatar.png'}}"></image>
            <view class="rank-badge first">1</view>
          </view>
          <view class="champion-info">
            <text class="champion-name">{{rankingList[0].nickName || 'ç”¨æˆ·'}}</text>
            <text class="champion-score">{{rankingList[0].checkInCount || 0}}æ¬¡æ‰“å¡</text>
          </view>
        </view>
        
        <!-- ç¬¬äºŒã€ä¸‰å -->
        <view class="runners-up" wx:if="{{rankingList.length > 1}}">
          <!-- ç¬¬äºŒå -->
          <view class="runner-up second">
            <view class="avatar-container">
              <image class="runner-avatar" src="{{rankingList[1].avatarUrl || '/images/default-avatar.png'}}"></image>
              <view class="rank-badge second">2</view>
            </view>
            <text class="runner-name">{{rankingList[1].nickName || 'ç”¨æˆ·'}}</text>
            <text class="runner-score">{{rankingList[1].checkInCount || 0}}æ¬¡</text>
          </view>
          
          <!-- ç¬¬ä¸‰å -->
          <view class="runner-up third" wx:if="{{rankingList.length > 2}}">
            <view class="avatar-container">
              <image class="runner-avatar" src="{{rankingList[2].avatarUrl || '/images/default-avatar.png'}}"></image>
              <view class="rank-badge third">3</view>
            </view>
            <text class="runner-name">{{rankingList[2].nickName || 'ç”¨æˆ·'}}</text>
            <text class="runner-score">{{rankingList[2].checkInCount || 0}}æ¬¡</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- å…¶ä»–æ’å -->
    <view class="ranking-list">
      <view class="other-ranking">
        <view class="ranking-item {{item._openid === openid ? 'current-user' : ''}}" wx:for="{{rankingList}}" wx:key="index" wx:if="{{index > 2}}">
          <view class="rank-number">{{index + 1}}</view>
          <image class="user-avatar" src="{{item.avatarUrl || '/images/default-avatar.png'}}"></image>
          <view class="user-info">
            <text class="nickname">{{item.nickName || 'ç”¨æˆ·'}}</text>
            <text class="count">{{item.checkInCount || 0}}æ¬¡æ‰“å¡</text>
          </view>
          <text class="current-user-tag" wx:if="{{item._openid === openid}}">æˆ‘</text>
        </view>
        <view class="empty-tip" wx:if="{{rankingList.length === 0}}">æš‚æ— æ’è¡Œæ•°æ®</view>
      </view>
    </view>
    
    <view class="safe-area-bottom"></view>
  </scroll-view>
</view> 