<navigation-bar title="队员档案" back="{{true}}" color="black" background="#FFF"></navigation-bar>
<view class="container">
  <scroll-view class="content-scroll" scroll-y="true" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" bindrefresherrefresh="onRefresh">
    <view class="member-list">
      <block wx:if="{{members.length > 0}}">
        <view class="member-item {{item.teamStatus === '在训' ? 'status-active' : (item.teamStatus === '退役' ? 'status-retired' : (item.teamStatus === '退队' ? 'status-left' : ''))}}" wx:for="{{members}}" wx:key="_id" bindtap="onMemberTap" data-id="{{item._id}}">
          <!-- 左侧头像 -->
          <image class="member-avatar" src="{{item.avatarUrl || '/images/default-avatar.png'}}"></image>
          
          <!-- 右侧信息区域 -->
          <view class="member-details">
            <text class="member-name">{{item.nickName || '-'}}</text>
            <view class="info-row">
              <text class="label">学院:</text>
              <text class="value">{{item.college || '-'}}</text>
            </view>
            <view class="info-row">
              <text class="label">年级:</text>
              <text class="value">{{item.grade || '-'}}</text>
            </view>
          </view>
          
          <!-- 右上角状态文字 -->
          <text class="status-text status-text-{{item.teamStatus === '在训' ? 'active' : (item.teamStatus === '退役' ? 'retired' : (item.teamStatus === '退队' ? 'left' : ''))}}">
            {{item.teamStatus || '-'}}
          </text>
        </view>
      </block>
      <block wx:if="{{members.length === 0 && !loading}}">
        <view class="empty-state">
          <text>暂无队员信息</text>
        </view>
      </block>
      <block wx:if="{{loading}}">
        <view class="loading-state">
          <text>加载中...</text>
        </view>
      </block>
    </view>
    
    <!-- 增加底部提示 -->
    <view class="end-state" wx:if="{{!loading && !hasMore && members.length > 0}}">
      <text class="end-text">已经到底了~</text>
    </view>
    
    <view class="safe-area-bottom"></view>
  </scroll-view>
</view> 